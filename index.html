<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounting Talk - å°ç†Šè²“å‰µæ¥­ä¹‹è·¯</title>
    <style>
        body {
            margin: 0;
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: "Microsoft JhengHei", sans-serif;
        }

        #game-screen {
            width: 800px;
            height: 600px;
            position: relative;
            background-image: url('images/background.png');
            background-size: cover;
            background-position: center;
            border: 8px solid #3d2b1f;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        #ui-layer {
            position: absolute;
            bottom: 30px;
            width: 100%;
            display: flex;
            justify-content: center;
        }

        #dialog-box {
            width: 85%;
            background: rgba(30, 20, 15, 0.95);
            border: 2px solid #d84c31;
            border-radius: 8px;
            padding: 25px;
            color: #ffffff;
            transition: 0.1s;
        }

        .text-content {
            font-size: 20px;
            line-height: 1.6;
            margin-bottom: 20px;
            min-height: 80px;
        }

        .options {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            flex-wrap: wrap;
        }

        button {
            background: #d84c31;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: 0.2s;
        }

        button:hover {
            background: #ff7043;
            transform: translateY(-2px);
        }

        /* ç­”éŒ¯æ™‚çš„éœ‡å‹•å‹•ç•« */
        @keyframes shake {
            0% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-8px);
            }

            50% {
                transform: translateX(8px);
            }

            75% {
                transform: translateX(-8px);
            }

            100% {
                transform: translateX(0);
            }
        }

        .vibrate {
            animation: shake 0.2s linear;
            border-color: #ff0000 !important;
        }
    </style>
</head>

<body>

    <div id="game-screen">
        <div id="ui-layer">
            <div id="dialog-box" id="main-box">
                <div id="text-display" class="text-content">å°ç†Šè²“ï¼š(ç¿»é–‹ç­†è¨˜æœ¬)
                    æº–å‚™äº†é€™éº¼ä¹…ï¼Œçµ‚æ–¼è¦è¸å‡ºå‰µæ¥­çš„ç¬¬ä¸€æ­¥äº†ã€‚æˆ‘è¦è‡ªå·±å»æ‘¸ç´¢é€™äº›è¤‡é›œçš„æµç¨‹ï¼Œé¦–å…ˆå¾—æ±ºå®šæˆ‘çš„åº—è¦ä»¥ä»€éº¼èº«ä»½å­˜åœ¨...</div>
                <div id="button-group" class="options">
                    <button onclick="nextStep(0)">é–‹å§‹ç¨è‡ªå‰µæ¥­</button>
                </div>
            </div>
        </div>
    </div>

    <audio id="sound-success" src="audio/success.mp3"></audio>
    <audio id="sound-wrong" src="audio/wrong.mp3"></audio>

    <script>
        const story = [
            {
                text: "å°ç†Šè²“ï¼šæˆ‘æƒ³ä¸€äººç¶“ç‡Ÿï¼Œä¸”é è¨ˆæ¯æœˆç‡Ÿæ¥­é¡ä¸åˆ° 20 è¬ã€‚æˆ‘æŸ¥åˆ°æœ‰ä¸€ç¨®èº«ä»½å¯ä»¥ç”³è«‹ã€å…ç”¨çµ±ä¸€ç™¼ç¥¨ã€ï¼Œåªè¦ç¹³ 1% ç‡Ÿæ¥­ç¨…ã€‚æˆ‘è©²ç”³è«‹å“ªç¨®ï¼Ÿ",
                choices: [
                    { label: "å•†æ¥­ç™»è¨˜ (è¡Œè™Ÿ)", isCorrect: true, feedback: "æ²’éŒ¯ï¼è¡Œè™Ÿè¦æ¨¡è¼ƒå°ï¼Œæœ‰æ©Ÿæœƒå‘åœ‹ç¨…å±€ç”³è«‹å…ç”¨çµ±ä¸€ç™¼ç¥¨ã€‚" },
                    { label: "å…¬å¸ç™»è¨˜", isCorrect: false, feedback: "å…¬å¸é›–ç„¶è½èµ·ä¾†å²å®³ï¼Œä½†è¦å®šä¸€å®šè¦é–‹ç«‹ 5% ç™¼ç¥¨ï¼Œç¨…å‹™æˆæœ¬è¼ƒé«˜å–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(ä¾†åˆ°åœ‹ç¨…å±€) ç¨…å‹™å“¡çœ‹äº†çœ‹æˆ‘çš„è³‡æ–™èªªï¼šã€114å¹´èµ·éŠ·å”®è²¨ç‰©çš„èµ·å¾µé»èª¿é«˜äº†ã€‚ã€è«‹å•æˆ‘æ¯å€‹æœˆè‡³å°‘è¦è³£è¶…éå¤šå°‘å…ƒï¼Œæ‰éœ€è¦ç¹³ç‡Ÿæ¥­ç¨…å‘¢ï¼Ÿ",
                choices: [
                    { label: "8 è¬å…ƒ", isCorrect: false, feedback: "é‚£æ˜¯èˆŠçš„è¦å®šï¼Œç¾åœ¨å·²ç¶“èª¿é«˜å›‰ï¼å†æƒ³ä¸€ä¸‹ã€‚" },
                    { label: "10 è¬å…ƒ", isCorrect: true, feedback: "æ­£ç¢ºï¼114å¹´æ–°åˆ¶æé«˜åˆ° 10 è¬å…ƒï¼Œå°æˆ‘å€‘é€™ç¨®å°åº—å¾ˆæœ‰å¹«åŠ©ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šæœ€å¾Œï¼Œæˆ‘å¾—å»ç¢ºèªåº—åæ²’äººè·Ÿæˆ‘é‡è¤‡ã€‚é€™å€‹ã€åç¨±é æŸ¥ã€èˆ‡å¾ŒçºŒç™»è¨˜ï¼Œæˆ‘æ˜¯è¦è·Ÿå“ªå€‹æ©Ÿé—œæ‰“äº¤é“å‘¢ï¼Ÿ",
                choices: [
                    { label: "æ‰€åœ¨åœ°ç¸£å¸‚æ”¿åºœ (å•†æ¥­ç§‘)", isCorrect: true, feedback: "æ²’éŒ¯ï¼è¡Œè™Ÿçš„ç™»è¨˜ä¸»ç®¡æ©Ÿé—œæ˜¯åœ°æ–¹æ”¿åºœï¼Œä¸æ˜¯ç¶“æ¿Ÿéƒ¨å–”ã€‚" },
                    { label: "å‹å‹•éƒ¨", isCorrect: false, feedback: "ä¸å°å–”ï¼Œå‹å‹•éƒ¨æ˜¯ç®¡å“¡å·¥æ¬Šç›Šçš„ï¼Œå‰µæ¥­ç™»è¨˜è¦æ‰¾åœ°æ–¹æ”¿åºœã€‚" }
                ]
            },

            {
                text: "å°ç†Šè²“ï¼š(ç±Œå‚™æœŸ) æˆ‘æ‹¿å‡ºè‡ªå·±çš„å­˜æ¬¾ 100,000 å…ƒä½œç‚ºèŒ¶å±‹çš„è³‡æœ¬ã€‚é€™ç­†éŒ¢å­˜å…¥éŠ€è¡Œå¾Œï¼Œæœƒè¨ˆåˆ†éŒ„çš„ã€å€Ÿæ–¹ã€æ‡‰è©²è¨˜ä»€éº¼ï¼Ÿ",
                choices: [
                    { label: "éŠ€è¡Œå­˜æ¬¾ (è³‡ç”¢å¢åŠ )", isCorrect: true, feedback: "æ­£ç¢ºï¼è³‡ç”¢å¢åŠ è¨˜åœ¨å€Ÿæ–¹ã€‚" },
                    { label: "æ¥­ä¸»è³‡æœ¬ (æ¬Šç›Šå¢åŠ )", isCorrect: false, feedback: "ä¸å°å–”ï¼Œæ¬Šç›Šå¢åŠ æ‡‰è©²è¨˜åœ¨è²¸æ–¹ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(æ¡è³¼) æˆ‘è²·äº†ä¸€å° 50,000 å…ƒçš„å°ˆæ¥­å’–å•¡æ©Ÿï¼Œä¸¦ç”¨éŠ€è¡Œè½‰å¸³ä»˜æ¸…ã€‚è«‹å•ã€å’–å•¡æ©Ÿ(ç”Ÿè²¡å™¨å…·)ã€æ‡‰è©²è¨˜åœ¨ï¼Ÿ",
                choices: [
                    { label: "å€Ÿæ–¹", isCorrect: true, feedback: "æ²’éŒ¯ï¼ç”Ÿè²¡å™¨å…·æ˜¯è³‡ç”¢ï¼Œè³‡ç”¢å¢åŠ è¨˜å€Ÿæ–¹ã€‚" },
                    { label: "è²¸æ–¹", isCorrect: false, feedback: "è²¸æ–¹æ‡‰è©²è¨˜éŠ€è¡Œå­˜æ¬¾æ¸›å°‘å–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(ç§Ÿé‡‘) èŒ¶å±‹é–‹å¼µäº†ï¼Œæˆ‘ä»˜äº†ç¬¬ä¸€å€‹æœˆç§Ÿé‡‘ 15,000 å…ƒã€‚é€™ç­†ã€ç§Ÿé‡‘æ”¯å‡ºã€å±¬æ–¼å“ªä¸€é¡ç§‘ç›®ï¼Ÿ",
                choices: [
                    { label: "è²»ç”¨é¡", isCorrect: true, feedback: "æ­£ç¢ºï¼è²»ç”¨å¢åŠ è¨˜åœ¨å€Ÿæ–¹ã€‚" },
                    { label: "è³‡ç”¢é¡", isCorrect: false, feedback: "ç§Ÿé‡‘ä»˜å‡ºå»å°±æ²’äº†ï¼Œæ˜¯è²»ç”¨ï¼Œä¸æ˜¯å¯ä»¥è®Šç¾çš„è³‡ç”¢å–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(é€²è²¨) æˆ‘å‘ä¾›æ‡‰å•†è³’è³¼äº†ä¸€æ‰¹ 5,000 å…ƒçš„ç²¾é¸èŒ¶è‘‰ï¼Œæ¬¾é …é‚„æ²’ä»˜ã€‚è«‹å•ç”¢ç”Ÿçš„å‚µå‹™å«ä»€éº¼ï¼Ÿ",
                choices: [
                    { label: "æ‡‰ä»˜å¸³æ¬¾ (è² å‚µ)", isCorrect: true, feedback: "æ­£ç¢ºï¼æ¬ åˆ¥äººçš„éŒ¢æ˜¯è² å‚µå¢åŠ ï¼Œè¨˜åœ¨è²¸æ–¹ã€‚" },
                    { label: "æ‡‰æ”¶å¸³æ¬¾ (è³‡ç”¢)", isCorrect: false, feedback: "æ‡‰æ”¶æ˜¯åˆ¥äººæ¬ ä½ ï¼Œç¾åœ¨æ˜¯ä½ æ¬ åˆ¥äººå–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(ç‡Ÿæ”¶) ä»Šå¤©è³£å‡ºç¬¬ä¸€æ¯æ‰‹æ²–èŒ¶ï¼Œæ”¶åˆ°ç¾é‡‘ 200 å…ƒã€‚é—œæ–¼ã€éŠ·è²¨æ”¶å…¥ã€çš„è¨˜æ³•æ­£ç¢ºçš„æ˜¯ï¼Ÿ",
                choices: [
                    { label: "è²¸ï¼šéŠ·è²¨æ”¶å…¥", isCorrect: true, feedback: "æ²’éŒ¯ï¼æ”¶å…¥å¢åŠ è¨˜åœ¨è²¸æ–¹ã€‚" },
                    { label: "å€Ÿï¼šéŠ·è²¨æ”¶å…¥", isCorrect: false, feedback: "å€Ÿæ–¹æ‡‰è©²è¨˜ç¾é‡‘å¢åŠ æ‰å°ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(å„Ÿå‚µ) æˆ‘å»éŠ€è¡Œè½‰å¸³ï¼Œå„Ÿé‚„äº†ä¸Šæ¬¡é‚£ç­† 5,000 å…ƒçš„èŒ¶è‘‰æ¬ æ¬¾ã€‚é€™æ™‚æˆ‘çš„ã€è² å‚µã€æœƒï¼Ÿ",
                choices: [
                    { label: "å€Ÿï¼šæ‡‰ä»˜å¸³æ¬¾ (è² å‚µæ¸›å°‘)", isCorrect: true, feedback: "æ­£ç¢ºï¼è² å‚µæ¸›å°‘è¨˜åœ¨å€Ÿæ–¹ã€‚" },
                    { label: "è²¸ï¼šæ‡‰ä»˜å¸³æ¬¾ (è² å‚µå¢åŠ )", isCorrect: false, feedback: "é‚„éŒ¢äº†ï¼Œè² å‚µæ‡‰è©²è¦æ¸›å°‘å–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(é›œé …) èŒ¶å±‹çš„é›»è²»å–®ä¾†äº†ï¼Œå…± 3,000 å…ƒï¼Œæˆ‘ç”¨ç¾é‡‘ä»˜æ‰ã€‚è«‹å•ç¾é‡‘ç§‘ç›®è¦è¨˜åœ¨ï¼Ÿ",
                choices: [
                    { label: "è²¸æ–¹ (è³‡ç”¢æ¸›å°‘)", isCorrect: true, feedback: "æ­£ç¢ºï¼ç¾é‡‘æµå‡ºå°±æ˜¯è³‡ç”¢æ¸›å°‘ï¼Œè¨˜è²¸æ–¹ã€‚" },
                    { label: "å€Ÿæ–¹ (è³‡ç”¢å¢åŠ )", isCorrect: false, feedback: "ç¾é‡‘ä»˜å‡ºå»ä¸æœƒå¢åŠ å–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(é æ”¶) ä¸€ä½è€å®¢äººé ä»˜äº† 1,000 å…ƒä½œç‚ºæœªä¾†çš„èŒ¶é»è¨‚é‡‘ã€‚é€™ç­†ã€é æ”¶è²¨æ¬¾ã€æ˜¯ä»€éº¼æ€§è³ªï¼Ÿ",
                choices: [
                    { label: "è² å‚µ (ç¾©å‹™)", isCorrect: true, feedback: "æ­£ç¢ºï¼æ”¶äº†éŒ¢é‚„æ²’çµ¦æ±è¥¿ï¼Œæ˜¯æœªä¾†çš„ç¾©å‹™ï¼Œå±¬æ–¼è² å‚µã€‚" },
                    { label: "æ”¶å…¥ (å·²è³ºå–)", isCorrect: false, feedback: "é‚„æ²’æä¾›æœå‹™å‰ï¼Œä¸èƒ½ç®—ä½œæ­£å¼æ”¶å…¥å–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(ä¿®ç¹•) èŒ¶å±‹çš„æœ¨é–€å£äº†ï¼ŒèŠ±äº† 2,000 å…ƒä¿®ç¹•ä¸¦ä»˜ç¾ã€‚é€™ç­†ã€ä¿®ç¹•è²»ã€æœƒè®“è²»ç”¨ï¼Ÿ",
                choices: [
                    { label: "å¢åŠ ", isCorrect: true, feedback: "æ­£ç¢ºï¼ã€‚" },
                    { label: "æ¸›å°‘", isCorrect: false, feedback: "èŠ±éŒ¢ç¶­ä¿®æ˜¯è²»ç”¨ï¼Œä¸æœƒè®“æ¬Šç›Šå¢åŠ å–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(çµç®—) æœˆåº•åˆ°äº†ï¼Œæˆ‘ç™¼ç¾é€™å€‹æœˆç¸½æ”¶å…¥å¤§æ–¼ç¸½æ”¯å‡ºã€‚é€™ä»£è¡¨æˆ‘é€™å€‹æœˆæœ‰ï¼Ÿ",
                choices: [
                    { label: "æœ¬æœŸæ·¨åˆ© (è³ºéŒ¢)", isCorrect: true, feedback: "å¤ªæ£’äº†ï¼å°ç†Šè²“çš„èŒ¶å±‹è³ºéŒ¢äº†ï¼ğŸµ" },
                    { label: "æœ¬æœŸæ·¨æ (è³ éŒ¢)", isCorrect: false, feedback: "æ”¶å…¥å¤§æ–¼æ”¯å‡ºæ˜¯è³ºéŒ¢å–”ï¼Œå†ç®—ä¸€æ¬¡ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¤ªå¥½äº†ï¼æˆ‘ç¨è‡ªå®Œæˆäº†ç¨…ç±ç™»è¨˜ã€‚ç¾åœ¨æ‹¿åˆ°é€™å¼µé»ƒè‰²çš„ã€å…ç”¨çµ±ä¸€ç™¼ç¥¨ã€æ¨™ç« ï¼Œæˆ‘çš„æœƒè¨ˆèŒ¶å±‹æ­£å¼é–‹å¼µï¼ğŸµ",
                choices: [
                    { label: "ç¹¼çºŒç¶“ç‡Ÿ >>", isCorrect: true, feedback: "ç”Ÿæ„èˆˆéš†ï¼Œæ™‚å…‰é£›é€..." }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼š(å¹¾å¹´å¾Œ...) é è‘—ç²¾æº–çš„å¸³å‹™ç®¡ç†ï¼ŒèŒ¶å±‹ç™¼å±•æˆäº†é€£é–å“ç‰Œã€‚ç¾åœ¨æˆ‘å€‘è¦æ¬å…¥å…¨æ–°çš„ã€å°ç†Šè²“åœ‹éš›ç¸½éƒ¨ã€äº†ï¼ä½†å¤§å…¬å¸çš„æœƒè¨ˆå¯ä¸ä¸€æ¨£ï¼",
                background: "images/background_v2.png", // è§¸ç™¼æ›åœ–
                choices: [
                    { label: "é–‹å•Ÿï¼šä¼æ¥­æ——è‰¦ç¯‡", isCorrect: true, feedback: "æ ¼å±€è®Šå¤§äº†ï¼ŒæŒ‘æˆ°ä¹Ÿè®Šé›£äº†å–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå…¬å¸æ±ºå®šç™¼è¡Œæ–°è‚¡ç±ŒéŒ¢è“‹å·¥å» ã€‚å¦‚æœé¢é¡ 10 å…ƒçš„è‚¡ç¥¨ï¼ŒæŠ•è³‡äººä»¥ 15 å…ƒèªè³¼ï¼Œé‚£å¤šå‡ºä¾†çš„ 5 å…ƒè¦è¨˜å…¥ä»€éº¼ç§‘ç›®ï¼Ÿ",
                choices: [
                    { label: "è³‡æœ¬å…¬ç©-ç™¼è¡Œè‚¡ç¥¨æº¢åƒ¹", isCorrect: true, feedback: "æ­£ç¢ºï¼è‚¡æ±æŠ•å…¥è¶…éé¢é¡çš„éƒ¨åˆ†å±¬æ–¼è³‡æœ¬å…¬ç©ã€‚" },
                    { label: "éŠ·è²¨æ”¶å…¥", isCorrect: false, feedback: "ä¸å°å–”ï¼Œé€™ä¸æ˜¯è³£å’–å•¡è³ºçš„ï¼Œä¸èƒ½åˆ—ç‚ºæ”¶å…¥ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šç‚ºäº†è®“è²¡å‹™å ±è¡¨æ›´ç²¾ç¢ºï¼Œæˆ‘å€‘å¿…é ˆå°é‚£äº›ä½¿ç”¨å¾ˆä¹…çš„è¨­å‚™ï¼ˆå¦‚çƒ˜è±†æ©Ÿï¼‰è¨ˆæã€æŠ˜èˆŠã€ã€‚è«‹å•æŠ˜èˆŠå±¬æ–¼ï¼Ÿ",
                choices: [
                    { label: "è³‡ç”¢çš„æ¸›é … (è²»ç”¨åŒ–)", isCorrect: true, feedback: "æ­£ç¢ºï¼é€™æ˜¯åœ¨åˆ†æ”¤è¨­å‚™çš„ä½¿ç”¨æˆæœ¬ã€‚" },
                    { label: "è² å‚µçš„å¢åŠ ", isCorrect: false, feedback: "æŠ˜èˆŠæ˜¯è³‡ç”¢åƒ¹å€¼çš„æ¶ˆè€—ï¼Œä¸æ˜¯æ¬ åˆ¥äººéŒ¢å–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šæœˆåº•äº†ï¼Œç¨…å‹™å“¡æé†’ï¼šã€å¤§å…¬å¸å¿…é ˆæ¯å…©å€‹æœˆç”³å ±ä¸€æ¬¡ç‡Ÿæ¥­ç¨…ã€ã€‚è«‹å•å…¬å¸çš„ç‡Ÿæ¥­ç¨…ç‡é€šå¸¸æ˜¯å¤šå°‘ï¼Ÿ",
                choices: [
                    { label: "5%", isCorrect: true, feedback: "æ²’éŒ¯ï¼å…¬å¸çµ„ç¹”åŸºæœ¬éƒ½æ˜¯ 5% çš„åŠ å€¼å‹ç‡Ÿæ¥­ç¨…ã€‚" },
                    { label: "1%", isCorrect: false, feedback: "1% æ˜¯è¡Œè™Ÿå°è¦æ¨¡ç‡Ÿæ¥­äººçš„ç‰¹æ¬Šï¼Œå¤§å…¬å¸æ²’è¾¦æ³•å–”ï¼" }
                ]
            }
            ,
            {
                text: "å°ç†Šè²“ï¼šæœƒè¨ˆå¸«èªªï¼šã€æˆ‘å€‘è¦å°éŠ€è¡Œå­˜æ¬¾é€²è¡ŒæŸ¥æ ¸ã€ã€‚ç‚ºäº†å–å¾—å¤–éƒ¨è­‰æ“šï¼Œæˆ‘å€‘éœ€è¦é…åˆåŸ·è¡Œä»€éº¼å‹•ä½œï¼Ÿ",
                choices: [
                    { label: "ç™¼å‡ºéŠ€è¡Œå‡½è­‰", isCorrect: true, feedback: "æ­£ç¢ºï¼å‡½è­‰æ˜¯ç¢ºèªéŠ€è¡Œå­˜æ¬¾é¤˜é¡æœ€å¯é çš„å¤–éƒ¨è­‰æ“šã€‚" },
                    { label: "å£é ­è·Ÿæœƒè¨ˆå¸«ä¿è­‰", isCorrect: false, feedback: "å¯©è¨ˆå“¡è¬›æ±‚è­‰æ“šï¼Œå£é ­èªªèªªæ˜¯æ²’è¾¦æ³•éé—œçš„å–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¯©è¨ˆå“¡æŠ½æŸ¥å»å¹´çš„é€²è²¨æ†‘è­‰ï¼Œç™¼ç¾æœ‰ä¸€ç­†æ¬¾é …æ²’æœ‰é™„ä¸Šã€é©—æ”¶å–®ã€ã€‚é€™åœ¨å¯©è¨ˆä¸Šå±¬æ–¼ä»€éº¼å•é¡Œï¼Ÿ",
                choices: [
                    { label: "å…§éƒ¨æ§åˆ¶ç¼ºå¤±", isCorrect: true, feedback: "æ²’éŒ¯ï¼å®Œæ•´çš„æ†‘è­‰æ‡‰è©²åŒ…å«è«‹è³¼ã€æ¡è³¼ã€é©—æ”¶èˆ‡ç™¼ç¥¨ã€‚" },
                    { label: "éŠ·è²¨æ”¶å…¥ä½ä¼°", isCorrect: false, feedback: "é€™æ˜¯é€²è²¨ç«¯çš„å•é¡Œï¼Œè·Ÿæ”¶å…¥ç„¡é—œå–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¯©è¨ˆå“¡è¦æ±‚ 12 æœˆ 31 æ—¥æ™šä¸Šå»å„åˆ†åº—å€‰åº«ã€‚ä»–å€‘é€™æ˜¯è¦åšä»€éº¼ï¼Ÿ",
                choices: [
                    { label: "ç›£è§€å­˜è²¨ç›¤é»", isCorrect: true, feedback: "æ­£ç¢ºï¼å¹´åº•ç›¤é»æ˜¯ç‚ºäº†ç¢ºèªå­˜è²¨çš„ã€å­˜åœ¨æ€§ã€ã€‚" },
                    { label: "å»åˆ†åº—å–å…è²»å’–å•¡", isCorrect: false, feedback: "äººå®¶æ˜¯å»å·¥ä½œçš„å•¦ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¯©è¨ˆå“¡ç™¼ç¾æœ‰ä¸€æ‰¹éæœŸçš„æ¿¾æ›åŒ…ï¼Œé›–ç„¶é‚„æ²’è³£æ‰ï¼Œä½†ä»–å»ºè­°è¦æåˆ—ã€è·Œåƒ¹æå¤±ã€ã€‚é€™æ˜¯åŸºæ–¼ä»€éº¼åŸå‰‡ï¼Ÿ",
                choices: [
                    { label: "æˆæœ¬èˆ‡æ·¨è®Šç¾åƒ¹å€¼å­°ä½æ³•", isCorrect: true, feedback: "æ­£ç¢ºï¼å­˜è²¨åƒ¹å€¼å—ææ™‚ï¼Œå¿…é ˆå¦‚å¯¦åæ˜ æå¤±ã€‚" },
                    { label: "æ­·å²æˆæœ¬åŸå‰‡", isCorrect: false, feedback: "æ­·å²æˆæœ¬ä¸èƒ½åæ˜ å­˜è²¨åƒ¹å€¼å·²ç¶“ä¸‹è·Œçš„äº‹å¯¦ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¯©è¨ˆå“¡å•ï¼šã€ä½ å€‘å…¬å¸ç”±èª°è² è²¬é–‹æ”¯ç¥¨ï¼Œç”±èª°è² è²¬è¨˜å¸³ï¼Ÿã€ã€‚ç‚ºä»€éº¼ä»–è¦å•é€™å€‹ï¼Ÿ",
                choices: [
                    { label: "ç¢ºèªè·èƒ½åˆ†å·¥ (Segregation of Duties)", isCorrect: true, feedback: "æ­£ç¢ºï¼ç®¡éŒ¢çš„ä¸èƒ½è¨˜å¸³ï¼Œé€™æ‰æ˜¯è‰¯å¥½çš„å…§éƒ¨æ§åˆ¶ã€‚" },
                    { label: "æƒ³ç¢ºèªèª°çš„è–ªæ°´æ¯”è¼ƒé«˜", isCorrect: false, feedback: "å¯©è¨ˆå“¡é—œå¿ƒçš„æ˜¯æµç¨‹å®‰å…¨ï¼Œä¸æ˜¯è–ªè³‡é«˜ä½ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šæˆ‘å€‘æœ‰ä¸€ç­†å¤§é¡ã€æ‡‰æ”¶å¸³æ¬¾ã€å·²ç¶“é€¾æœŸå…©å¹´ã€‚å¯©è¨ˆå“¡è¦æ±‚æˆ‘å€‘è©•ä¼°æ˜¯å¦è¦è½‰ç‚ºï¼Ÿ",
                choices: [
                    { label: "å‘†å¸³è²»ç”¨ (å£å¸³)", isCorrect: true, feedback: "æ­£ç¢ºï¼æ”¶ä¸å›ä¾†çš„å‚µæ¬Šå¿…é ˆæåˆ—å‘†å¸³ï¼Œé¿å…è³‡ç”¢é«˜ä¼°ã€‚" },
                    { label: "è³‡æœ¬å…¬ç©", isCorrect: false, feedback: "å‘†å¸³æ˜¯è²»ç”¨ï¼Œè·Ÿè‚¡æ±æŠ•å…¥çš„è³‡æœ¬ä¸åŒå–”ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¯©è¨ˆå“¡ç™¼ç¾æˆ‘å€‘æœ‰ä¸€ç­†ã€æˆ–æœ‰è² å‚µã€ï¼ˆå¦‚æœªæ±ºè¨´è¨Ÿï¼‰ã€‚è«‹å•é€™åœ¨è²¡å‹™å ±è¡¨ä¸Šé€šå¸¸å¦‚ä½•è™•ç†ï¼Ÿ",
                choices: [
                    { label: "æ–¼é™„è¨»ä¸­æ­éœ²", isCorrect: true, feedback: "æ­£ç¢ºï¼é‡å¤§ä¸ç¢ºå®šäº‹é …å¿…é ˆåœ¨é™„è¨»èªªæ¸…æ¥šã€‚" },
                    { label: "ç›´æ¥åˆªé™¤ä¸ç†æœƒ", isCorrect: false, feedback: "éš±çé‡è¦è³‡è¨Šæœƒå°è‡´å¯©è¨ˆæ„è¦‹å—å½±éŸ¿ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šå¯©è¨ˆå“¡å¾è¬ç­†è¨‚å–®ä¸­éš¨æ©Ÿé¸äº† 50 ç­†éŠ·è²¨äº¤æ˜“é€²è¡ŒæŸ¥é©—ã€‚é€™ç¨®æ–¹å¼ç¨±ç‚ºä»€éº¼ï¼Ÿ",
                choices: [
                    { label: "æŠ½æ¨£ (Sampling)", isCorrect: true, feedback: "æ²’éŒ¯ï¼å¤§å…¬å¸ä¸å¯èƒ½å…¨æŸ¥ï¼Œéœ€è¦ç§‘å­¸æŠ½æ¨£ã€‚" },
                    { label: "å…¨æŸ¥ (Total Audit)", isCorrect: false, feedback: "å…¨æŸ¥å°å¤§å…¬å¸ä¾†èªªä¸åˆ‡å¯¦éš›ã€‚" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šä¸€æœˆç™¼ç”Ÿå¤§ç«ç‡’æ¯€å€‰åº«ï¼Œé›–ç„¶æ˜¯æ˜å¹´ç™¼ç”Ÿçš„ï¼Œä½†å¯©è¨ˆå“¡è¦æ±‚åœ¨ä»Šå¹´å ±è¡¨æ­éœ²ï¼Œé€™æ˜¯ç‚ºä»€éº¼ï¼Ÿ",
                choices: [
                    { label: "é‡å¤§æœŸå¾Œäº‹é …æ­éœ²", isCorrect: true, feedback: "æ­£ç¢ºï¼é€™æœƒå½±éŸ¿æŠ•è³‡äººå°å…¬å¸æœªä¾†ç¶“ç‡Ÿçš„åˆ¤æ–·ã€‚" },
                    { label: "ç‚ºäº†å¢åŠ å ±å‘Šé æ•¸", isCorrect: false, feedback: "é€™æ˜¯ç‚ºäº†é€æ˜åº¦ï¼Œä¸æ˜¯ç‚ºäº†å¯«åšå–”ï¼" }
                ]
            },
            {
                text: "å°ç†Šè²“ï¼šæœƒè¨ˆå¸«æœ€å¾Œç°½ç™¼äº†ä¸€ä»½ã€ç„¡ä¿ç•™æ„è¦‹ã€çš„å¯©è¨ˆå ±å‘Šï¼é€™ä»£è¡¨ï¼Ÿ",
                choices: [
                    { label: "å…¬å¸çš„å ±è¡¨å…ç•¶è¡¨é”", isCorrect: true, feedback: "å¤ªæ£’äº†ï¼é€™æ˜¯æœ€å¥½çš„çµæœï¼Œä»£è¡¨å°ç†Šè²“å…¬å¸å¸³ç›®æ²’å•é¡Œï¼" },
                    { label: "å…¬å¸è¦å€’é–‰äº†", isCorrect: false, feedback: "å®Œå…¨ç›¸åï¼é€™ä»£è¡¨è²¡å‹™éå¸¸å¥åº·é€æ˜ï¼" }
                ]
            }
        ];
        let current = -1;

        function nextStep(index) {
            current = index;
            const scene = story[current];
            const display = document.getElementById('text-display');
            const btns = document.getElementById('button-group');
            const box = document.getElementById('dialog-box');
            const screen = document.getElementById('game-screen');

            // --- æ–°å¢ï¼šèƒŒæ™¯åˆ‡æ›é‚è¼¯ ---
            if (scene.background) {
                // å…ˆè®“å°è©±æ¡†è®Šé€æ˜
                box.style.opacity = "0";
                setTimeout(() => {
                    screen.style.backgroundImage = `url('${scene.background}')`;
                    screen.style.transition = "background-image 1.5s ease-in-out";
                    box.style.opacity = "1";
                    box.style.transition = "opacity 1s";
                }, 500);
            }
            // ----------------------

            box.classList.remove('vibrate');
            display.innerText = scene.text;
            btns.innerHTML = "";

            scene.choices.forEach(c => {
                const b = document.createElement('button');
                b.innerText = c.label;
                b.onclick = () => handleChoice(c);
                btns.appendChild(b);
            });
        }



        function handleChoice(c) {
            const display = document.getElementById('text-display');
            const btns = document.getElementById('button-group');
            const box = document.getElementById('dialog-box');

            const sSfx = document.getElementById('sound-success');
            const wSfx = document.getElementById('sound-wrong');

            if (c.isCorrect) {
                // å˜—è©¦æ’­æ”¾è²éŸ³ï¼Œå¤±æ•—å‰‡å¿½ç•¥
                sSfx.play().catch(() => { });

                display.innerText = "ğŸŒŸ " + c.feedback;
                const nextIdx = current + 1;

                if (nextIdx < story.length) {
                    btns.innerHTML = `<button onclick="nextStep(${nextIdx})">ä¸‹ä¸€é …æŸ¥æ ¸</button>`;
                } else {
                    display.innerText = "å°ç†Šè²“ï¼š(æµä¸‹æ„Ÿå‹•çš„çœ¼æ·š) å¯©è¨ˆéé—œäº†ï¼æˆ‘å€‘çš„å¸³å‹™æ¸…æ¸…ç™½ç™½ã€‚å°ç†Šè²“å’–å•¡é›†åœ˜ï¼Œæº–å‚™æ­£å¼ä¸Šå¸‚ï¼ğŸµâœ¨";
                    btns.innerHTML = `<button onclick="location.reload()">é‡æ–°æŒ‘æˆ°</button>`;
                }
            } else {
                wSfx.play().catch(() => { });

                // è¦–è¦ºå›é¥‹ï¼šéœ‡å‹•å°è©±æ¡†
                box.classList.add('vibrate');
                setTimeout(() => box.classList.remove('vibrate'), 200);

                display.innerText = "âŒ " + c.feedback;
                btns.innerHTML = `<button onclick="nextStep(${current})">é‡æ–°ç ”ç©¶æ³•è¦</button>`;
            }
        }
    </script>

</body>

</html>